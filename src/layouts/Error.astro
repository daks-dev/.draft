---
import pkg from 'package.json';
const { version } = pkg;

import { page } from '$app/stores';
const { draft } = page.get();

import '../styles/global.css';

interface Props {
  status?: string;
}
const { status = '404' } = Astro.params;

let message: string;
switch (status) {
  case '403':
    message = 'Forbidden';
    break;
  case '404':
    message = 'Not Found';
    break;
  case '500':
    message = 'Internal Server Error';
    break;
  default:
    message = '?';
}
---

<!doctype html>
<html lang='ru'>
  <head>
    <meta charset='utf-8' />
    <meta
      name='viewport'
      content='width=device-width'
    />
    <meta
      name='robots'
      content='no-index, follow'
    />
    <title>{status} ({message})</title>
    <link
      rel='alternate icon'
      href=`/favicon/${draft}/favicon.ico?v=${version}`
      sizes='any'
    />
    <link
      rel='apple-touch-icon'
      href=`/favicon/${draft}/192.png?v=${version}`
    />
    <link
      rel='icon'
      href=`/favicon/${draft}/icon.svg?v=${version}`
      type='image/svg+xml'
    />
  </head>

  <body>
    <main>
      <h1>{status}</h1>
      <p>[ {message} ]</p>
      <svg
        class='w-64'
        viewBox='0 0 64 64'>
        <path
          d='M61.063 17h-8.438v-2.148a6.564 6.564 0 1 0-3.75 0V17h-33.75v-2.148A6.564 6.564 0 0 0 13.25 2a6.562 6.562 0 0 0-1.874 12.852V17H2.938a.937.937 0 0 0-.938.938v18.75c0 .519.419.938.938.938h8.438v6.563H7.938v3.75h3.437v10.752C11.375 59.53 9.5 62 9.5 62H17s-1.875-2.47-1.875-3.311V47.938h33.75V58.69C48.875 59.53 47 62 47 62h7.5s-1.875-2.47-1.875-3.311V47.938h3.437v-3.75h-3.437v-6.563h8.438a.937.937 0 0 0 .938-.938v-18.75a.938.938 0 0 0-.938-.937m-20.704 1.875h9.907L43.292 35.75h-9.905l6.972-16.875M8.563 8.563c0-2.587 2.099-4.688 4.688-4.688s4.688 2.101 4.688 4.688a4.688 4.688 0 0 1-9.376 0M4.145 35.468a.93.93 0 0 1-.27-.655v-15c0-.519.419-.938.938-.938h6.579L4.145 35.468m9.105 11.283a.688.688 0 1 1 0-1.376a.688.688 0 0 1 0 1.376m.053-11.001l7.372-16.875h9.94L23.641 35.75H13.303m35.572 8.438h-33.75v-6.563h33.75v6.563m1.875 2.563a.688.688 0 1 1 0-1.376a.688.688 0 0 1 0 1.376m0-33.501a4.688 4.688 0 1 1 0-9.376a4.688 4.688 0 0 1 0 9.376m9.375 21.563a.937.937 0 0 1-.938.938h-6.149l6.842-16.557a.927.927 0 0 1 .245.619v15'
        ></path>
      </svg>
      <a href='/'>
        <svg
          class='w-8'
          xmlns='http://www.w3.org/2000/svg'
          viewBox='0 0 24 24'>
          <g
            fill='none'
            stroke='currentColor'
            stroke-linecap='round'
            stroke-linejoin='round'
            stroke-width='2'>
            <path
              stroke-dasharray='21'
              stroke-dashoffset='21'
              d='M5 21H19'>
              <animate
                fill='freeze'
                attributeName='stroke-dashoffset'
                dur='0.2s'
                values='21;0'
              ></animate>
            </path>
            <path
              stroke-dasharray='15'
              stroke-dashoffset='15'
              d='M5 21V8M19 21V8'>
              <animate
                fill='freeze'
                attributeName='stroke-dashoffset'
                begin='0.2s'
                dur='0.2s'
                values='15;0'>
              </animate>
            </path>
            <path
              stroke-dasharray='26'
              stroke-dashoffset='26'
              d='M2 10L12 2L22 10'>
              <animate
                fill='freeze'
                attributeName='stroke-dashoffset'
                begin='0.5s'
                dur='0.4s'
                values='26;0'>
              </animate>
            </path>
          </g>
        </svg>
      </a>
    </main>
  </body>
</html>

<style>
  h1 {
    margin: 0;
    padding: 1rem 0;
    font-size: 15vmin;
  }

  a {
    display: block;
    padding: 1rem;
  }

  .w-64 {
    max-width: 16rem;
    fill: rgb(190 18 60 / 50%);
  }

  .w-8 {
    width: 2rem;
  }

  @media (max-height: 767px) {
    .w-64 {
      max-width: 12rem;
    }
  }

  @media (max-height: 767px) and (orientation: landscape) {
    .w-64 {
      display: none;
    }
  }
</style>
